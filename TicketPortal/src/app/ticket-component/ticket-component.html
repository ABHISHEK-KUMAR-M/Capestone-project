<h2>Ticket Management</h2>

<p style="color:red" *ngIf="errMsg">
  {{ errMsg }}
</p>

<h3>Ticket Form</h3>

<div>
  <label>Ticket ID:</label>
  <input type="number" [(ngModel)]="ticket.ticketId">
  <button (click)="getTicket()">Show</button>
</div>

<br>

<div>
  <label>Title:</label>
  <input type="text" [(ngModel)]="ticket.title">
</div>

<br>

<div>
  <label>Description:</label>
  <input type="text" [(ngModel)]="ticket.description">
</div>

<br>

<div>
  <label>Ticket Type ID:</label>
  <input type="text" [(ngModel)]="ticket.ticketTypeId">
</div>

<br>

<div>
  <label>Created By Emp ID:</label>
  <input type="text" [(ngModel)]="ticket.createdByEmpId">
</div>

<br>

<div>
  <label>Assigned To Emp ID:</label>
  <input type="text" [(ngModel)]="ticket.assignedToEmpId">
</div>

<br>

<div>
  <label>Status:</label>
  <input type="text" [(ngModel)]="ticket.status">
</div>

<br>

<button (click)="addTicket()">Save</button>
<button (click)="updateTicket()">Update</button>
<button (click)="deleteTicket()">Delete</button>
<button (click)="newTicket()">Clear</button>

<hr>

<h3>List of Tickets</h3>

<button (click)="loadTickets()">Show All</button>

<table border="1" cellpadding="5">
  <tr>
    <th>ID</th>
    <th>Title</th>
    <th>Status</th>
    <th>Created By</th>
    <th>Assigned To</th>
  </tr>

  <tr *ngFor="let t of tickets">
    <td>{{ t.ticketId }}</td>
    <td>{{ t.title }}</td>
    <td>{{ t.status }}</td>
    <td>{{ t.createdByEmpId }}</td>
    <td>{{ t.assignedToEmpId }}</td>
  </tr>

  <tr *ngIf="tickets.length === 0">
    <td colspan="5">No tickets found</td>
  </tr>
</table>
